{"version":3,"sources":["services/phonebookService.js","components/Filter.js","components/PersonForm.js","components/PersonList.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","exports","getAll","axios","get","then","response","data","add","personObject","post","remove","personId","delete","update","put","id","Filter","handleFilter","nameFilter","onChange","value","PersonForm","handleNameField","handleNumberField","handleSubmit","newName","newNumber","type","onClick","Person","person","removeName","name","number","PersonList","persons","filter","toLowerCase","includes","map","Notification","message","color","colorStyle","main","borderColor","backgroundColor","back","className","style","App","useState","setPersons","setNewName","setNewNumber","setNameFilter","notificationMessage","setNotificationMessage","notificationColor","setNotificationColor","useEffect","phonebook","personList","clearFields","event","target","preventDefault","matchingPerson","find","trim","undefined","window","confirm","updatedPerson","newPersons","setTimeout","catch","error","newPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f8e7bb82.chunk.js","sourcesContent":["import axios from \"axios\";\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst add = (personObject) => {\r\n    const request = axios.post(baseUrl, personObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (personId) => {\r\n    const request = axios.delete(`${baseUrl}/${personId}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (personObject) => {\r\n    const request = axios.put(`${baseUrl}/${personObject.id}`, personObject)\r\n    return request.then(response => response.data)\r\n} \r\n\r\nconst exports = { getAll, add, remove, update } \r\n\r\nexport default exports","import React from 'react'\r\n\r\nconst Filter = ({ handleFilter, nameFilter }) => {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\tfilter shown with: <input onChange={handleFilter} value={nameFilter} />\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({handleNameField, handleNumberField, handleSubmit, newName, newNumber}) => {\r\n    return (\r\n      <div>\r\n        <form>\r\n          <div>\r\n            name: <input onChange={handleNameField} value={newName} />\r\n          </div>\r\n          <div>\r\n            number: <input onChange={handleNumberField} value={newNumber} />\r\n          </div>\r\n          <div>\r\n            <button type=\"submit\" onClick={handleSubmit}>add</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst PersonList = ({ persons, nameFilter, removeName }) => {\r\n\r\n  const personFilter = person => person.name.toLowerCase().includes(nameFilter.toLowerCase())\r\n\r\n  return (\r\n    <div>\r\n      {persons.filter(personFilter).map(person => <Person person={person} removeName={() => removeName(person.name, person.id)} key={person.id} />)}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Person = ({ person, removeName }) => {\r\n  return (\r\n    <div>\r\n      <div key={person.name}>\r\n        {person.name} {person.number}\r\n        <button onClick={removeName}>remove</button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PersonList\r\n","import React from 'react'\r\nimport './notification.css'\r\n\r\nconst Notification = ({ message, color }) => {\r\n\r\n\tif (message === null) return null\r\n\r\n\tconst colorStyle = {\r\n\t\tcolor: `${color.main}`,\r\n\t\tborderColor: `${color.main}`,\r\n\t\tbackgroundColor: `${color.back}`\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"notification\" style={colorStyle} >\r\n\t\t\t{message}\r\n\t\t</div>\r\n\t)\r\n\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport phonebook from './services/phonebookService'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport PersonList from './components/PersonList'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [nameFilter, setNameFilter] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n  const [notificationColor, setNotificationColor] = useState({main: 'green', back: 'lightgreen'})\n\n\n  const handleNameFieldChange = (event) => setNewName(event.target.value)\n  const handleNumberFieldChange = (event) => setNewNumber(event.target.value)\n  const handleFilterFieldChange = (event) => setNameFilter(event.target.value)\n\n  \n  useEffect(() => {\n    phonebook.getAll().then(personList => setPersons(personList))\n  }, [])\n  \n  const addName = (event) => {\n    event.preventDefault()\n    \n    const matchingPerson = persons.find(person => person.name.toLowerCase() === newName.trim().toLowerCase())\n\n    if (matchingPerson !== undefined) {\n      if (window.confirm(`${matchingPerson.name} already exists in the notebook, do you want to replace the old number with a new one?`)) {\n        phonebook.update({...matchingPerson, number: newNumber}).then(updatedPerson => {\n          const newPersons = persons.map(person => person.id === updatedPerson.id ? updatedPerson : person)\n          setPersons(newPersons)\n          clearFields()\n\n          setNotificationColor({ main: 'green', back: '#ccffcc'})\n          setNotificationMessage(`Updated ${updatedPerson.name}`)\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 5000)\n        }).catch((error) => {\n          setPersons(persons.filter(person => person.id !== matchingPerson.id))\n\n          setNotificationColor({ main: 'firebrick', back: '#ffcccc'})\n          setNotificationMessage(`${matchingPerson.name} has already been removed from the server`)\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 5000)\n        })\n      }      \n    } else {\n      phonebook.add({ name: newName.trim(), number: newNumber }).then(newPerson => {\n        setPersons(persons.concat(newPerson))\n        clearFields()\n        setNotificationColor({ main: 'green', back: '#ccffcc'})\n        setNotificationMessage(`Added ${newPerson.name}`)\n        setTimeout(() => {\n          setNotificationMessage(null)\n        }, 5000)\n      })\n    }\n  }\n\n  const removeName = (name, id) => {\n    if(window.confirm(`Remove ${name}?`)) {\n      phonebook.remove(id).then(() => {\n        setPersons(persons.filter(person => person.id !== id))\n\n        setNotificationColor({ main: 'green', back: '#ccffcc'})\n        setNotificationMessage(`Removed ${name}`)\n        setTimeout(() => {\n          setNotificationMessage(null)\n        }, 5000)\n      })\n    }\n  }\n\n  const clearFields = () => {\n    setNewName('')\n    setNewNumber('')\n  } \n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n\n      <Filter\n        handleFilter={handleFilterFieldChange}\n        nameFilter={nameFilter}  \n      />\n\n      <h3>Add new number</h3>\n\n      <PersonForm\n        handleNameField={handleNameFieldChange}\n        handleNumberField={handleNumberFieldChange}\n        handleSubmit={addName}\n        newName={newName}\n        newNumber={newNumber}\n      />\n\n      <Notification message={notificationMessage} color={notificationColor} />\n\n      <h3>Numbers</h3>\n\n      <PersonList persons={persons} nameFilter={nameFilter} removeName={removeName}/>\n    </div>\n  )\n\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}